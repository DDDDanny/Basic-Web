<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="author" content="Danny">
    <script type="text/javascript" src="../JavaScript/AboutStr.js"></script>
    <title>AboutStr</title>
  </head>
  <body>
    <!--拆分字符串-->
    <label>全班总分：</label>
    <span id="sum"></span><br><br>
    <label>全班平均分：</label>
    <span id="svn"></span>
    <hr>
    <!--复选框全选-->
    <h1>请选择你喜欢的水果</h1>
    <input type="checkbox" name="" value="">
    <label>苹果</label>
    <input type="checkbox" name="" value="">
    <label>香梨</label>
    <input type="checkbox" name="" value="">
    <label>葡萄</label>
    <input type="checkbox" name="" value="">
    <label>草莓</label>
    <input type="checkbox" name="" value="">
    <label>菠萝</label>
    <br>
    <input type="button" name="" value="全选" onclick="checkall()">
    <input type="button" name="" value="取消全选" onclick="clearcheck()">
    <script type="text/javascript">
      /*
        拆分字符串，提取成绩，计算总分和平均分
      */
      var scoreStr = "小明:87;小花:81;小红:97;小天:76;小张:74;小小:94;小西:90;小伍:76;小迪:64;小曼:76";
      var mybox = scoreStr.split(';');
      var sum = 0;
      for (var i = 0; i < mybox.length; i++) {
        //确定数字部分初始位置
        var mynum = mybox[i].indexOf(":") + 1;
        //提取数字部分
        var mynum2 = mybox[i].slice(mynum);
        //将字符串转化为整数
        var num = parseInt(mynum2);
        //求和
        sum = sum + num;
      }
      document.getElementById('sum').innerHTML = sum;
      //求平均数取整
      var svn = Math.round(sum/mybox.length);//取整
      document.getElementById('svn').innerHTML = svn;
    </script>
  </body>
</html>
